<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>1 RIVAL — Rep Allocation</title>

<style>
:root{
  --bg1:#07141a;
  --bg2:#0b2a3a;
  --stroke:rgba(255,255,255,.08);
  --text:rgba(255,255,255,.92);
  --muted:rgba(255,255,255,.65);
  --accent:#13f2d8;

  --cardW: clamp(160px, 18vw, 240px);
  --cardH: calc(var(--cardW) * 1.45);
  --radius: 18px;
}

*{ box-sizing:border-box; }
html,body{ height:100%; margin:0; }
body{
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
  color:var(--text);
  background:
    radial-gradient(1200px 700px at 70% 10%, rgba(19,242,216,.18), transparent 55%),
    radial-gradient(900px 500px at 20% 90%, rgba(68,102,255,.18), transparent 55%),
    linear-gradient(135deg, var(--bg1), var(--bg2));
  overflow-x:hidden;
}

.wrap{
  min-height:100%;
  display:flex;
  justify-content:center;

  /* IMPORTANT: use width, not max-width */
  width: 100%;
  overflow-x: clip;

  /* Safe-area friendly padding */
  padding:
    16px
    calc(16px + env(safe-area-inset-right))
    16px
    calc(16px + env(safe-area-inset-left));
}

.layout{
  /* IMPORTANT: prevent “1200px logic” from causing micro-overflow */
  width: 100%;
  max-width: 1200px;

  display:grid;
  grid-template-columns: minmax(0, 1.3fr) minmax(0, 1fr);
  gap:18px;
}
/* Grid overflow killer: lets columns shrink instead of overflowing */
.panel, .board, .stats, .slot, .playRow, .cardWrap { min-width: 0; }

@media (max-width: 900px){
  .layout{ grid-template-columns: 1fr; }
}

.panel{
  background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
  border: 1px solid var(--stroke);
  border-radius: 22px;
  box-shadow: 0 18px 50px rgba(0,0,0,.35);
  overflow:hidden;
}

.board{
  padding:18px;
  display:flex;
  flex-direction:column;
  gap:14px;
  min-height: 520px;
}

.topRow{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:6px 6px 0 6px;
  color:var(--muted);
  font-weight:800;
}

.playRow{
  flex:1;
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:14px;
  align-items:stretch;
}

.slot{
  border-radius: 22px;
  border:1px solid var(--stroke);
  background: rgba(0,0,0,.25);
  padding:14px;
  display:flex;
  flex-direction:column;
  gap:10px;
  min-height: 360px;
}

.slotHeader{
  display:flex;
  justify-content:space-between;
  align-items:center;
  color:var(--muted);
  font-weight:800;
}

.cardWrap{
  flex:1;
  display:flex;
  justify-content:center;
  align-items:center;
  padding: 6px;
}

/* CARD */
.card{
  width: var(--cardW);
  height: var(--cardH);
  border-radius: var(--radius);
  position: relative;
  overflow: hidden;
  background: #000;
  border:1px solid rgba(255,255,255,.12);
  box-shadow: 0 14px 35px rgba(0,0,0,.45);
}

/* Deck back image (fit nicely) */
.cardBack{
  position:absolute;
  inset:0;
  background-image:url('/1r-back.png');
  background-repeat:no-repeat;
  background-position:center;
  background-size: 86%;
}

/* Black rep face */
.cardFaceBlack{
  position:absolute;
  inset:0;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  text-align:center;
  padding:18px;
  background:#000;
}

.startText{
  font-size: 20px;
  font-weight: 900;
  line-height: 1.35;
}

.startSub{
  margin-top: 10px;
  font-size: 14px;
  opacity: .7;
  font-weight: 700;
}

.repNumber{
  font-size: 74px;
  font-weight: 1000;
  line-height: 1;
}

.repLabel{
  margin-top: 8px;
  font-size: 18px;
  letter-spacing: .25em;
  opacity: .9;
  font-weight: 900;
}

.repTag{
  margin-top: 10px;
  font-size: 14px;
  opacity: .65;
  font-weight: 800;
}

/* RIGHT STATS PANEL */
.stats{
  padding:18px;
  display:flex;
  flex-direction:column;
  gap:14px;
}

.statGrid{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:12px;
}

.stat{
  border-radius: 18px;
  border:1px solid var(--stroke);
  background: rgba(0,0,0,.25);
  padding:14px;
  min-height: 92px;
  display:flex;
  flex-direction:column;
  justify-content:center;
  gap:6px;
}

.statLabel{
  color: var(--muted);
  font-weight:900;
  letter-spacing:.14em;
  font-size: 12px;
  text-transform:uppercase;
}

.statValue{
  font-weight:1000;
  font-size: 44px;
  letter-spacing:.5px;
  line-height:1;
}

.actions{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:12px;
  margin-top:auto;
}

button{
  border: 1px solid var(--stroke);
  background: rgba(255,255,255,.04);
  color: var(--text);
  padding: 14px 14px;
  border-radius: 16px;
  font-weight: 950;
  letter-spacing:.4px;
  cursor:pointer;
}

.primary{
  background: rgba(19,242,216,.15);
  border-color: rgba(19,242,216,.35);
}

/* MODAL */
.modalOverlay{
  position:fixed;
  inset:0;
  background: rgba(0,0,0,.55);
  display:none;
  place-items:center;
  padding:18px;
  z-index:999;
  backdrop-filter: blur(10px);
}
.modalOverlay.show{ display:grid; }

.modal{
  width:min(560px, 100%);
  border-radius: 26px;
  border: 1px solid rgba(255,255,255,.10);
  box-shadow: 0 30px 90px rgba(0,0,0,.55);
  overflow: hidden;
  background:
    radial-gradient(900px 500px at 15% 10%, rgba(0, 220, 255, .18), transparent 60%),
    radial-gradient(700px 500px at 85% 20%, rgba(80, 120, 255, .18), transparent 60%),
    linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
  position:relative;
}

.modalHeader{ padding: 20px 20px 10px; }
.modalBadge{
  display:inline-block;
  font-weight: 1000;
  letter-spacing:.18em;
  font-size: 12px;
  opacity:.85;
  padding: 8px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(0,0,0,.18);
}
.modalTitle{ margin-top:10px; font-size: 28px; font-weight: 1000; }
.modalSub{ margin-top:6px; opacity:.75; font-weight:800; }

.modalGrid{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:12px;
  padding: 12px 20px 18px;
}
.statTile{
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.18);
  padding: 14px 14px 12px;
}
.tileLabel{
  font-weight: 1000;
  letter-spacing: .14em;
  font-size: 12px;
  opacity: .70;
}
.tileValue{
  margin-top: 8px;
  font-weight: 1000;
  font-size: 34px;
  letter-spacing: .02em;
}

.modalFooter{ padding: 0 20px 18px; }
.modalNote{ opacity:.75; font-weight:900; margin-bottom:10px; }
.modalHashtag{ opacity:.8; font-weight:1000; letter-spacing:.06em; margin-bottom:14px; }

.modalActions{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:12px;
}

.btn{
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.06);
  color: var(--text);
  padding: 14px;
  border-radius: 16px;
  font-weight: 1000;
  cursor:pointer;
}
.btn.primary{
  background: linear-gradient(180deg, rgba(0,220,255,.28), rgba(0,120,255,.18));
}

.modalClose{
  position:absolute;
  top:14px;
  right:14px;
  width:42px;
  height:42px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(0,0,0,.22);
  color: rgba(255,255,255,.9);
  font-size: 18px;
  cursor:pointer;
}

/* mobile tighten */
@media (max-width:520px){
  .wrap{ padding:10px; }
  .board{ padding:12px; min-height:auto; }
  .stats{ padding:12px; }
  .slot{ padding:10px; min-height:260px; }
  .statValue{ font-size: 38px; }
}

/* === HARD STOP: prevent any horizontal overflow in mobile in-app browsers === */
html, body {
  max-width: 100%;
  overflow-x: clip;       /* better than hidden on modern browsers */
}

.wrap {
  width: 100%;
  max-width: 100%;
  /* safe-area padding helps Messenger/FB/IG browsers */
  padding-left: calc(12px + env(safe-area-inset-left));
  padding-right: calc(12px + env(safe-area-inset-right));
}

/* Make sure the main container can never exceed the viewport */
.layout, .panel {
  max-width: 100%;
}

/* Sometimes a 1-2px “math overflow” happens — this kills it */


</style>
  <script type="module" crossorigin src="/assets/index-DhT-g-G_.js"></script>
</head>

<body>
  <div class="wrap">
    <div class="layout">

      <!-- LEFT: Current + Deck -->
      <section class="panel board">
        <div class="topRow">
          <div>Current</div>
          <div id="statusText">Ready</div>
          <div id="remainingText">∞</div>
        </div>

        <div class="playRow">
          <!-- Current -->
          <div class="slot">
            <div class="slotHeader">
              <div>Current Card</div>
              <div id="currentLabel">—</div>
            </div>

            <div class="cardWrap">
              <div class="card" id="currentCard">
                <!-- Start screen -->
                <div class="cardFaceBlack" id="startFace">
                  <div class="startText">Press FLIP<br/>to start</div>
                  <div class="startSub">Random reps<br/>15s sometimes · 20s rarely</div>
                </div>

                <!-- Rep screen -->
                <div class="cardFaceBlack" id="repFace" style="display:none;">
                  <div class="repNumber" id="repNumber">3</div>
                  <div class="repLabel">REPS</div>
                  <div class="repTag">#1Rival</div>
                </div>
              </div>
            </div>
          </div>

          <!-- Deck -->
          <div class="slot">
            <div class="slotHeader">
              <div>Deck</div>
              <div>∞</div>
            </div>

            <div class="cardWrap">
              <div class="card" id="deckCard">
                <div class="cardBack"></div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- RIGHT: Stats -->
      <section class="panel stats">
        <div class="statGrid">
          <div class="stat">
            <div class="statLabel">Time</div>
            <div class="statValue" id="timeText">00:00</div>
          </div>
          <div class="stat">
            <div class="statLabel">Sets</div>
            <div class="statValue" id="setsText">0</div>
          </div>
          <div class="stat">
            <div class="statLabel">Calories</div>
            <div class="statValue" id="calText">0</div>
          </div>
          <div class="stat">
            <div class="statLabel">Reps</div>
            <div class="statValue" id="repsText">0</div>
          </div>
        </div>

        <div class="actions">
          <button class="primary" id="flipBtn" type="button">FLIP CARD</button>
          <button id="quitBtn" type="button">QUIT GAME</button>
        </div>
      </section>

    </div>
  </div>

  <!-- Stats Modal -->
  <div class="modalOverlay" id="modalOverlay" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-label="Session stats">
      <div class="modalHeader">
        <div class="modalBadge">1 RIVAL</div>
        <div class="modalTitle">Session Complete</div>
        <div class="modalSub">Rep Allocation Ritual</div>
      </div>

      <div class="modalGrid">
        <div class="statTile">
          <div class="tileLabel">TIME</div>
          <div class="tileValue" id="mTime">00:00</div>
        </div>
        <div class="statTile">
          <div class="tileLabel">SETS</div>
          <div class="tileValue" id="mSets">0</div>
        </div>
        <div class="statTile">
          <div class="tileLabel">REPS</div>
          <div class="tileValue" id="mReps">0</div>
        </div>
        <div class="statTile">
          <div class="tileLabel">CALORIES</div>
          <div class="tileValue" id="mCals">0</div>
        </div>
      </div>

      <div class="modalFooter">
        <div class="modalNote">There is only 1 rival… you.</div>
        <div class="modalHashtag">#1Rival</div>

        <div class="modalActions">
          <button class="btn" id="playAgainBtn" type="button">Play Again</button>
          <button class="btn primary" id="downloadBtn" type="button">Download Card</button>
        </div>

        <button class="modalClose" id="closeBtn" type="button" aria-label="Close">✕</button>
      </div>
    </div>
  </div>

</body>
</html>
